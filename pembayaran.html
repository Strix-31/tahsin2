<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pembayaran - Kelas Tahsin Online</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#075985',
            secondary: '#0369a1',
          }
        }
      }
    }
  </script>
</head>
<body class="bg-gray-50 font-sans">
  <header class="bg-white shadow-sm">
    <nav class="container mx-auto px-4 py-4">
      <a href="formulir.html" class="text-primary hover:text-secondary">&larr; Kembali ke Formulir</a>
    </nav>
  </header>
  <main class="container mx-auto px-4 py-12">
    <div class="max-w-2xl mx-auto bg-white rounded-lg shadow-sm p-8">
      <h1 class="text-2xl font-bold text-primary mb-6">Pembayaran</h1>
      <div id="detailPaket" class="mb-8"></div>
      <div id="dataPendaftar" class="mb-8"></div>
      <div class="text-center mb-8">
        <h2 class="text-xl font-semibold text-gray-900 mb-6">Pembayaran via QRIS</h2>
        <div class="bg-white border-2 border-gray-200 rounded-lg p-6 inline-block">
          <div class="w-48 h-48 bg-gray-200 mx-auto mb-4 flex items-center justify-center">
            <img src="assets/images/qris-masjid.jpg" alt="QRIS Masjid Sosrohadisewoyo" class="w-full h-full object-contain rounded" />
          </div>
          <p class="text-sm text-gray-600 mb-2">Scan QRIS untuk melakukan pembayaran</p>
          <p class="font-medium text-primary"></p>
        </div>
      </div>
      <div class="mb-8 text-sm text-gray-600">
        <h3 class="font-semibold mb-2">Cara Pembayaran:</h3>
        <ol class="list-decimal list-inside space-y-2">
          <li>Scan QRIS menggunakan aplikasi e-wallet atau m-banking Anda</li>
          <li>Masukkan nominal sesuai paket yang dipilih</li>
          <li>Selesaikan pembayaran</li>
          <li>Klik tombol "Konfirmasi Pembayaran" untuk mengirim bukti transfer</li>
          <li><span class="font-semibold text-primary">Berikan tanda bukti pembayaran di WhatsApp</span></li>
        </ol>
      </div>
      <div class="text-center">
        <a id="waKonfirmasi" href="#" target="_blank" class="inline-block bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition duration-300">
          Konfirmasi Pembayaran via WhatsApp
        </a>
      </div>
    </div>
  </main>
  <footer class="bg-gray-900 text-gray-300 py-8 mt-12">
    <div class="container mx-auto px-4 text-center">
      <p class="text-sm">© 2024 Masjid Jami' Sosrohadisewoyo. All rights reserved.</p>
    </div>
  </footer>
  <script>
    // Ambil data dari query string
    const params = new URLSearchParams(window.location.search);
    const paket = params.get('paket');
    const nama = params.get('nama');
    const gender = params.get('gender');
    const usia = params.get('usia');
    const pekerjaan = params.get('pekerjaan');
    const wilayah = params.get('wilayah');

    // Data paket
    const paketList = {
      1: { nama: 'Paket 1', harga: 'Rp 25.000', deskripsi: 'eBook + Infak dakwah' },
      2: { nama: 'Paket 2', harga: 'Rp 15.000', deskripsi: 'eBook Saja' },
      3: { nama: 'Paket 3', harga: 'Sukarela', deskripsi: 'Infak Saja' },
      4: { nama: 'Paket 4', harga: 'Gratis', deskripsi: 'Ikut program tanpa donasi' }
    };
    const detail = paketList[paket] || { nama: 'Paket Tidak Diketahui', harga: '-', deskripsi: '-' };

    // Tampilkan detail paket
    document.getElementById('detailPaket').innerHTML = `
      <div class="bg-sky-50 rounded-lg p-6 mb-4">
        <h2 class="text-xl font-semibold text-primary mb-2">${detail.nama}</h2>
        <p class="text-lg font-bold text-gray-900 mb-1">${detail.harga}</p>
        <p class="text-gray-600">${detail.deskripsi}</p>
      </div>
    `;

    // Tampilkan data pendaftar
    document.getElementById('dataPendaftar').innerHTML = `
      <div class="bg-gray-100 rounded-lg p-6 mb-4">
        <h2 class="text-lg font-semibold text-primary mb-2">Data Pendaftar</h2>
        <ul class="text-gray-700 space-y-1">
          <li><b>Nama:</b> ${nama || '-'}</li>
          <li><b>Jenis Kelamin:</b> ${gender === 'L' ? 'Laki-laki' : gender === 'P' ? 'Perempuan' : '-'}</li>
          <li><b>Usia:</b> ${usia || '-'} tahun</li>
          <li><b>Pekerjaan:</b> ${pekerjaan || '-'}</li>
          <li><b>Wilayah:</b> ${wilayah || '-'}</li>
        </ul>
      </div>
    `;

    // Jika paket 4 (gratis), tampilkan ucapan terima kasih saja
    if (paket === '4') {
      document.querySelector('.text-center.mb-8').innerHTML = `
        <div class="bg-green-50 border border-green-200 rounded-lg p-6 mb-6">
          <h2 class="text-xl font-bold text-green-700 mb-2">Terima Kasih!</h2>
          <p class="text-green-800">Anda telah terdaftar sebagai peserta Kelas Tahsin Online Gratis.<br>Silakan bergabung dan manfaatkan program ini sebaik mungkin.<br><br>Tidak perlu melakukan pembayaran.</p>
        </div>
      `;
      document.querySelector('.mb-8.text-sm.text-gray-600').style.display = 'none';
      // Buat link WhatsApp konfirmasi tetap aktif
      const waNumber = '628813224569';
      const waMsg = `Assalamu'alaikum, saya telah mendaftar Paket 4 (Gratis).%0A%0A*Data Pendaftar*%0A▪️ Nama: ${nama}%0A▪️ Jenis Kelamin: ${gender === 'L' ? 'Laki-laki' : 'Perempuan'}%0A▪️ Usia: ${usia} tahun%0A▪️ Pekerjaan: ${pekerjaan}%0A▪️ Wilayah: ${wilayah}`;
      document.getElementById('waKonfirmasi').href = `https://wa.me/${waNumber}?text=${waMsg}`;
      document.getElementById('waKonfirmasi').style.display = '';
    } else {
      // Buat link WhatsApp konfirmasi
      const waNumber = '628813224569';
      const waMsg = `Assalamu'alaikum, saya ingin konfirmasi pembayaran ${detail.nama} (${detail.harga}).%0A%0A*Data Pendaftar*%0A▪️ Nama: ${nama}%0A▪️ Jenis Kelamin: ${gender === 'L' ? 'Laki-laki' : 'Perempuan'}%0A▪️ Usia: ${usia} tahun%0A▪️ Pekerjaan: ${pekerjaan}%0A▪️ Wilayah: ${wilayah}`;
      document.getElementById('waKonfirmasi').href = `https://wa.me/${waNumber}?text=${waMsg}`;
      document.getElementById('waKonfirmasi').style.display = '';
    }
  </script>
</body>
</html> 